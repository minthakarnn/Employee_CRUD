<!DOCTYPE html>
<html>
<head>
  <title><%= content_for(:title) || "Employee Crud" %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= yield :head %>
  <link rel="icon" href="/icon.png" type="image/png">
  <link rel="apple-touch-icon" href="/icon.png">
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <%# <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script> %>
  <%= javascript_importmap_tags %> <!-- สำหรับการโหลด importmap -->
  <%# <script src="/js/appConfig.js"></script> %>

  <!-- รวมไฟล์ controllers -->
  <%# <script src="/js/employee_controller.js"></script>
  <script src="/js/employee_show_controller.js"></script>
  <script src="/js/employee_form_controller.js"></script>
  <script src="/js/employee_edit_controller.js"></script> %>
  <%# ลองเปลี่ยนเป็นแยกไฟล์แล้วเรียกใช้ไฟล์ทุกอันแต่ไม่สามารถทำงานได้ %>
</head>

<body ng-app="myApp">
  <%= yield %>
  <%= javascript_include_tag "delete_confirmation_dialog" %>
  <%= javascript_include_tag "create_success_dialog" %>
  <%= javascript_include_tag "edit_confirmation_dialog" %>
  <%= javascript_include_tag "login_success_dialog" %>
  
  <!-- รวม CSS และ JavaScript สำหรับ Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- รวมไฟล์ JavaScript ของ AngularJS -->
  <script src="/js/index_employees.controller.js"></script>
</html>